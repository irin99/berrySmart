<!DOCTYPE html>
<html lang="en">
<head>
  <title>Berry Smart | Homepage</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
<style>
body {
    position: relative;
    font-family: Lato;
  }
  ul.nav-pills {
    top: 20px;
    position: fixed;
  }
  div.col-sm-10 div {
    
    font-size: 28px;
  }
  #otherlink {
    color: white;
  }
  a {
    color: #A288A6;
  }
a:hover {
    color: #5a2d53;
  }
  li:active {
  color:  #b8e1ff;
}

td {
   border-width: medium;
   padding-left:20px;
   margin:0;
}
table.grxd {
   width:100%;
   height:100%;
}


 
  #section1 {color: #fff; background-color: #AAD62E;}
  #section2 {color: rgb(61, 95, 139); background-color:  #b8e1ff;}
  #section3 {color:white; background-color: #A288A6;}
  #section4 {color: #fff; background-color: #B9B9B9;}
  #section5 {color: #fff; background-color: #5a2d53;}
  #section6 {color: #fff; background-color: #959595;}
  
  @media screen and (max-width: 810px) {
    #section1, #section2, #section3, #section4, #section5, #section6  {
      margin-left: 150px;
    }
  }
</style>  
</head>
<body data-spy="scroll" data-target="#myScrollspy" data-offset="20">
    <div class="container">
      <div class="row row-eq-height">
        <nav class="col-sm-2" id="myScrollspy" style>
          <ul class="nav nav-pills nav-stacked" style="font-size:18px">
                <br><br><br><br><br><br><br><br><br><br>
            <li class="active"><a href="#section1">Farm</a></li>
            <li><a href="#section2">Today's Weather</a></li>
            <li><a href="#section3">Statistics</a></li>
            <li><a href="#section4">Recommendations</a></li>
            <li><a href="#section5">About us</a></li>
            <li><a href="#section6">Contact us</a></li>

          </ul>
        </nav>
        <div class="col-sm-10">
            <div id ="section0" style="text-align: center"> <img src="https://i.ibb.co/ZzsyHz2/logo1.png"  alt="logo1"> <h1> Berry Smart</h1></div>
            <br><br><br>
            <div id="section1" style="border-radius: 15px; padding:25px;"> 
                <h1 style="text-align: center">Irin's Dashboard</h1>
                <br><br>
                <div class="col-sm-2"></div>
                <div class="col-sm-8">            
                    <form>
                        <div class="form-group" style="text-align: center;">
                            <label for="sel1">Select a parameter:</label>
                            <select class="form-control glyphicon fa" id="sel1" onchange="if (this.selectedIndex) createGrid();">
                                <option value="-1">--</option>
                                <option  value="1" >  Temperature</option>
                                <option value="2"> Humidity</option>
                                <option value="3"> Light</option>
                                <option value="4"> Moisture</option>
                            </select>  
                        </div>
                    </form>
                </div>
                <div class="col-sm-2"></div>
                <br><br><br><br>
                <div id="drawTable" style="background:url('https://i.ibb.co/JCSWxg9/map.png');height:590px; " ></div>
                <br>
                <div id = "legend-parent" style="font-size:15px; text-align: center" > </div>
            </div>

            <br><br><br>
            <div id="section2" style="border-radius: 15px; padding:25px;"> 
                <div class="row" >    
                    <h1 style="text-align: center">Today's Weather</h1>
                </div>
                
                <div class="row" style="text-align:left">    
                    <div class ="col-sm-3"></div> 
                    <div class ="col-sm-6" style="text-align: center"> 
                     <canvas id="weather-icon"></canvas> <br>
                    <span id="description"></span>    
                    <br><br>
                    <span id="predict-temp"><i class="fas fa-temperature-low"> </i> Temperature </span><br>
                    <span id="predict-cloud"><i class="fas fa-cloud"></i> Cloudiness</span><br>
                    <span id="predict-humid"><i class="glyphicon glyphicon-tint"></i> Humidity </span><br>
                    <span id="predict-wind"><i class="fas fa-wind"></i> Wind Speed</span><br>
                    <span id="predict-sunrise"><i class="fas fa-sun"></i> Sunrise</span><br>
                    <span id="predict-sunset"><i class="far fa-sun"></i> Sunset </span><br>
                    <br><br><br> 
                    </div>
                    <div class ="col-sm-3"></div> 
                    <br><br><br>
                </div> 
            </div>   
            <br><br><br>     
            <div id="section3"  style="border-radius: 15px; padding-left: 10px; padding-right: 10px;">         
                <div class="row">    
                    <h1 style="text-align: center">Statistics</h1>
                </div>
                <br><br> 
                <div>
                    <a href="https://plot.ly/~garciag/6/?share_key=1rX36f5NwlJOuOWX923QD2" target="_blank" title="Plots of Random Data" style="display: block; text-align: center;"><img src="https://plot.ly/~garciag/6.png?share_key=1rX36f5NwlJOuOWX923QD2" alt="Plots of Random Data" style="max-width: 100%;width: 800px;"  width="800" onerror="this.onerror=null;this.src='https://plot.ly/404.png';" /></a>
                    <script data-plotly="garciag:6" sharekey-plotly="1rX36f5NwlJOuOWX923QD2" src="https://plot.ly/embed.js" async></script>
                </div>
                <br><br>
            </div>
            <br><br><br>
            <div id="section4"  style="border-radius: 15px; padding-left: 10px; padding-right: 10px;">         
                <div class="row">    
                    <h1 style="text-align: center">Recommendations</h1>
                    <br><br>
                    <div class="col-sm-1"></div>
                    <div class="col-sm-5">
                        Average Soil Moisture <br>
                        Average Temperature <br>
                        Average Brightness <br>
                        Average Humidity <br>
                        <br><br>
                    </div>
                </div> 
            </div>  
            <br><br><br>    
            <div id="section5"  style="border-radius: 15px; padding: 35px;">         
                <div class="row" style="font-size:20px">    
                    <h1 style="text-align: center">About Us</h1>
                    <br>
                    This is what berry smart is about and this is what inspires us. This section will be filled later with content. This is just for testing purpose
                </div>   
            </div>
            <br><br><br>
            <div id="section6"  style="border-radius: 15px; padding: 40px; ">         
                <div class="row" style="font-size:20px" >    
                    <h1 style="text-align: center">Contact Us</h1>
                    <br><br>
                       <!-- Carousel -->

                            <div class="col-sm-4"></div>
                            <div class="col-sm-4">
                            <div id="myCarousel" class="carousel slide" data-ride="carousel">
                              <!-- Indicators -->
                              <ol class="carousel-indicators">
                                <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                                <li data-target="#myCarousel" data-slide-to="1"></li>
                                <li data-target="#myCarousel" data-slide-to="2"></li>
                                <li data-target="#myCarousel" data-slide-to="3"></li>
                                
                              </ol>
                          
                              <!-- Wrapper for slides -->
                              <div class="carousel-inner">
                                <div class="item active" >
                                  <img src="https://i.ibb.co/z52Zxcz/gaby.png">
                                </div>
                          
                                <div class="item">
                                  <img src="https://i.ibb.co/PCQy5MR/irin.png">
                                </div>
                              
                                <div class="item">
                                  <img src="https://i.ibb.co/4SD8Vhw/nikhil.png">
                                </div>

                                <div class="item">
                                   <img src="https://i.ibb.co/xjQR0yZ/sunny.png" >
                                </div>
                              </div>

            
                          
                              <!-- Left and right controls -->
                              <a class="left carousel-control" href="#myCarousel" data-slide="prev">
                                <span class="glyphicon glyphicon-chevron-left"></span>
                                <span class="sr-only">Previous</span>
                              </a>
                              <a class="right carousel-control" href="#myCarousel" data-slide="next">
                                <span class="glyphicon glyphicon-chevron-right"></span>
                                <span class="sr-only">Next</span>
                              </a>
                            </div>
                            </div>
                            <div class="col-sm-4"></div>
                          
                        
                        <br><br><br><br><br><br><br><br><br><br><br>
                        <div class="col-sm-3"></div>
                        <div class="col-sm-6" style="font-size:20px">
                        <span >Contact us and we will get back to you</span>
                        <br>
                        <span class="glyphicon glyphicon-map-marker" aria-hidden="true" > </span>
                        <a id="otherlink" href="https://www.google.com/maps/search/MIT+cambridge+massachusetts/@42.3586467,-71.1020003,15z/data=!3m1!4b1">Cambridge, Massachusetts</a>
                        <br> 
                        <span class="glyphicon glyphicon-envelope" aria-hidden="true"> </span>
                        <ul> 
                            <li><a href = "mailto: garciag@mit.edu" id="otherlink">Gabriella Garcia</a></li>
                            <li><a href = "mailto: irin@mit.edu" id="otherlink">Irin Ghosh</a></li>
                            <li><a href = "mailto: nmurthy@mit.edu" id="otherlink">Nikhil Murthy</a></li>
                            <li><a href = "mailto: sunnyt@mit.edu" id="otherlink">Sunny Tran </a></li>
                        </ul> 
                       </div>
                        <div class="col-sm-3"></div>
                </div> 
            </div>
            <br><br><br>
        </div>
      </div>
    </div>
</body> 

<script>

$(document).ready(function(){
    $.get("http://608dev.net/sandbox/sc/irin/weathericonhandler.py", function(data, status){
        var canvas = document.getElementById("weather-icon");
        var context = canvas.getContext("2d");

        var img = new Image();
        img.onload = function() {
        context.drawImage(img, 100, 50, 100, 100);
        };
        img.src =  "http://openweathermap.org/img/w/"+data+".png";
    });
   });


    $(document).ready(function(){
    $.get("http://608dev.net/sandbox/sc/irin/weatherhandler.py", function(data, status){
        $("#description").append(data);
    });
   });

    $(document).ready(function(){
    $.get("http://608dev.net/sandbox/sc/irin/cloudhandler.py", function(data, status){
        $("#predict-cloud").append('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;');
        $("#predict-cloud").append(data);
        $("#predict-cloud").append('%');
    });
   });

    $(document).ready(function(){
    $.get("http://608dev.net/sandbox/sc/irin/temperaturehandler.py", function(data, status){
        $("#predict-temp").append('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;');
        $("#predict-temp").append(data);
        $("#predict-temp").append( '&#176; C');
    });
   }); 

   $(document).ready(function(){
    $.get("http://608dev.net/sandbox/sc/irin/humidityhandler.py", function(data, status){
        $("#predict-humid").append('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;');
        $("#predict-humid").append(data);
        $("#predict-humid").append('%');
    });
   });

   $(document).ready(function(){
    $.get("http://608dev.net/sandbox/sc/irin/humidityhandler.py", function(data, status){
        $("#predict-wind").append('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;');
        $("#predict-wind").append(data);
        $("#predict-wind").append('m/s');
    });
   });

   $(document).ready(function(){
    $.get("http://608dev.net/sandbox/sc/irin/sunrisehandler.py", function(data, status){
        $("#predict-sunrise").append('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;');
        $("#predict-sunrise").append(data);
    });
   });

   $(document).ready(function(){
    $.get("http://608dev.net/sandbox/sc/irin/sunsethandler.py", function(data, status){
        $("#predict-sunset").append('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;');
        $("#predict-sunset").append(data);
    });
   });
    
    function createGrid(){
        console.log('I am here');
        console.log(document.getElementById('sel1').value);
    if(document.getElementById('sel1').value=='1'){
        drawTableTemperature();
        }
    else if(document.getElementById('sel1').value=='2'){
        drawTableHumidity();
        }  
    else if(document.getElementById('sel1').value=='3'){
        drawTableLight();
        } 
    else if(document.getElementById('sel1').value=='4'){
        drawTableMoist();
    }  
    else if(document.getElementById('sel1').value=='-1'){
        drawOtherwise();  }       
    }

    function drawOtherwise(){
      var el = document.getElementById('drawTable');
      $("#drawTable").html('');
    }

    function drawTableTemperature() {
        console.log('drawing table')
        var x = 5;
        var y = 5;
        var t = '<table cellspacing="0" border="1"  class="grxd">';
        for (var i = 1; i <= (x * y); i++) {
            t += (i == 1 ? '<tr>' : '');
            t += '<td style="cursor:pointer; border-color:rgb(247, 202, 54);" id=cell';   
            t += i.toString(10);
            t += '></td>';
            if (i == (x * y)) {
                t += '</tr>';
            } else {
            t += (i % y === 0 ? '</tr><tr>' : '');
            }
        }
    t += '</table>';
    $("#drawTable").html(t);
    for (var i=1; i <= (x*y); i++){
      var v = i/(x*y);   
      drawTempSquare(i, v, 0.2, 0.8);
    }
    }

    function drawTableHumidity() {
        console.log('drawing table')
        var x = 5;
        var y = 5;
        var t = '<table cellspacing="0" border="1"  class="grxd">';
        for (var i = 1; i <= (x * y); i++) {
            t += (i == 1 ? '<tr>' : '');
            t += '<td style="cursor:pointer; border-color:skyblue;" id=cell';   
            t += i.toString(10);
            t += '></td>';
            if (i == (x * y)) {
                t += '</tr>';
            } else {
            t += (i % y === 0 ? '</tr><tr>' : '');
            }
        }
    t += '</table>';
    $("#drawTable").html(t);
    for (var i=1; i <= (x*y); i++){
      var v = i/(x*y);   
      drawHumidSquare(i, v, 0.2, 0.8);
    }
    } 
    
    function drawTableLight() {
        console.log('drawing table')
        var x = 5;
        var y = 5;
        var t = '<table cellspacing="0" border="1"  class="grxd">';
        for (var i = 1; i <= (x * y); i++) {
            t += (i == 1 ? '<tr>' : '');
            t += '<td style="cursor:pointer; border-color:white;" id=cell';   
            t += i.toString(10);
            t += '></td>';
            if (i == (x * y)) {
                t += '</tr>';
            } else {
            t += (i % y === 0 ? '</tr><tr>' : '');
            }
        }
    t += '</table>';
    $("#drawTable").html(t);
    for (var i=1; i <= (x*y); i++){
      var v = i/(x*y);   
      drawLightSquare(i, v, 0.2, 0.8);
    }
    } 
    
    function drawTableMoist() {
        console.log('drawing table')
        var x = 5;
        var y = 5;
        var t = '<table cellspacing="0" border="1"  class="grxd">';
        for (var i = 1; i <= (x * y); i++) {
            t += (i == 1 ? '<tr>' : '');
            t += '<td style="cursor:pointer; border-color:skyblue;" id=cell';   
            t += i.toString(10);
            t += '></td>';
            if (i == (x * y)) {
                t += '</tr>';
            } else {
            t += (i % y === 0 ? '</tr><tr>' : '');
            }
        }
    t += '</table>';
    $("#drawTable").html(t);
    for (var i=1; i <= (x*y); i++){
      var v = i/(x*y);   
      drawMoistSquare(i, v, 0.2, 0.8);
    }
    } 

    function drawTempSquare(i,v, thl, thh){
            var element = document.getElementById("cell"+i.toString(10));
            var el = document.createElement('div');
            var square = document.createElement("div");
            square.style.width = "40px";
            square.style.height = "40px";
            square.style.borderRadius="20px";
            var r = Math.floor(255);
            var b = 51;
            var g = Math.floor(51+(1-v)*204);
            square.setAttribute('id',v.toFixed(2).toString(10));
            square.style.backgroundColor =  "rgb("+ r.toString(10)+","+g.toString(10)+","+b.toString(10)+")";
            square.setAttribute('onclick', 'displayfntemp(this)');
            element.appendChild(el);
            el.appendChild(square);
            element.appendChild(document.createElement('br'));
            tempGradient(0.2,0.8);
            if (v <= thl || v >= thh){  
              var newel = document.createElement('span');
              newel.setAttribute('class', "glyphicon glyphicon-alert");
              element.appendChild(newel);
            }
        }
  

        function drawHumidSquare(i,v, thl, thh){
            var element = document.getElementById("cell"+i.toString(10));
            var el = document.createElement('div');
            var square = document.createElement("div");
            square.style.width = "40px";
            square.style.height = "40px";
            square.style.borderRadius="20px";
            var r = Math.floor((1-v)*255);
            var g = Math.floor(128+(1-v)*127);
            var b = 255;
            square.setAttribute('id',v.toFixed(2).toString(10));
            square.style.backgroundColor =  "rgb("+ r.toString(10)+","+g.toString(10)+","+b.toString(10)+")";
            square.setAttribute('onclick', 'displayfnhumid(this)');
            element.appendChild(el);
            el.appendChild(square);
            element.appendChild(document.createElement('br'));
            humidGradient(0.2,0.8);
            if (v <= thl || v >= thh){  
              var newel = document.createElement('span');
              newel.setAttribute('class', "glyphicon glyphicon-alert");
              element.appendChild(newel);
            }
        } 
        
        function drawLightSquare(i,v, thl, thh){
            var element = document.getElementById("cell"+i.toString(10));
            var el = document.createElement('div');
            var square = document.createElement("div");
            square.style.width = "40px";
            square.style.height = "40px";
            square.style.borderRadius="20px";
            var j = Math.floor(v*255);
            square.setAttribute('id',v.toFixed(2).toString(10));
            square.style.backgroundColor =  "rgb("+ j.toString(10)+","+j.toString(10)+","+j.toString(10)+")";
            square.setAttribute('onclick', 'displayfnlight(this)');
            element.appendChild(el);
            el.appendChild(square);
            element.appendChild(document.createElement('br'));
            lightGradient(0.2,0.8);
            if (v <= thl || v >= thh){  
              var newel = document.createElement('span');
              newel.setAttribute('class', "glyphicon glyphicon-alert");
              element.appendChild(newel);
            }
        }

        function drawMoistSquare(i,v, thl, thh){
            var element = document.getElementById("cell"+i.toString(10));
            var el = document.createElement('div');
            var square = document.createElement("div");
            square.style.width = "40px";
            square.style.height = "40px";
            square.style.borderRadius="20px";
            var r = Math.floor((1-v)*255);
            var g = Math.floor(128+(1-v)*127);
            var b = 255;
            square.setAttribute('id',v.toFixed(2).toString(10));
            square.style.backgroundColor =  "rgb("+ r.toString(10)+","+g.toString(10)+","+b.toString(10)+")";
            square.setAttribute('onclick', 'displayfnmoist(this)');
            element.appendChild(el);
            el.appendChild(square);
            element.appendChild(document.createElement('br'));
            moistGradient(0.2,0.8);
            if (v <= thl || v >= thh){  
              var newel = document.createElement('span');
              newel.setAttribute('class', "glyphicon glyphicon-alert");
              element.appendChild(newel);
            }
        }

        function displayfntemp(el){
            el.innerHTML= '<span style="color:black; font-size:15px; text-align:center; padding:5px; ">'+el.id+'</span>' ; 
        }
        function displayfnhumid(el){
            el.innerHTML= '<span style="color:slateblue; font-size:15px; text-align:center; padding:5px; ">'+el.id+'</span>' ; 
        }
        function displayfnlight(el){
            el.innerHTML= '<span style="color:aqua; font-size:15px; text-align:center; padding:5px; ">'+el.id+'</span>' ; 
        }
        function displayfnmoist(el){
            el.innerHTML= '<span style="color:slateblue; font-size:15px; text-align:center; padding:5px; ">'+el.id+'</span>' ; 
        }    

    function tempGradient(l,h){
            var el = document.getElementById('legend-parent');
            el.innerHTML = '<span id="legend"> </span>';
            var first = document.createElement('span');
            first.innerText = l.toString(10)+'   ';
            el.prepend(first);

            var legend = document.getElementById('legend');
            var canvas = document.createElement('canvas');
            canvas.setAttribute('width','200');
            canvas.setAttribute('height','20');

            legend.appendChild(canvas);

            var ctx = canvas.getContext("2d");
            var grd = ctx.createLinearGradient(0, 0, 200, 0);
            grd.addColorStop(0, "yellow");
            grd.addColorStop(1, "red");

            ctx.fillStyle = grd;
            ctx.fillRect(0, 0, 200, 20);

            var last = document.createElement('span');
            last.innerText = '   '+h.toString(10);
            el.appendChild(last);
        }

        function humidGradient(l,h){
            var el = document.getElementById('legend-parent');
            el.innerHTML = '<span id="legend"> </span>';
            var first = document.createElement('span');
            first.innerText = l.toString(10)+'   ';
            el.prepend(first);

            var legend = document.getElementById('legend');
            var canvas = document.createElement('canvas');
            canvas.setAttribute('width','200');
            canvas.setAttribute('height','20');

            legend.appendChild(canvas);

            var ctx = canvas.getContext("2d");
            var grd = ctx.createLinearGradient(0, 0, 200, 0);
            grd.addColorStop(0, "rgb(255,255,255");
            grd.addColorStop(1, "rgb(0,128,255)");

            ctx.fillStyle = grd;
            ctx.fillRect(0, 0, 200, 20);


            var last = document.createElement('span');
            last.innerText = '   '+h.toString(10);
            el.appendChild(last);
        }  

        function lightGradient(l,h){
            var el = document.getElementById('legend-parent');
            el.innerHTML = '<span id="legend"> </span>';
            var first = document.createElement('span');
            first.innerText = l.toString(10)+'   ';
            el.prepend(first);

            var legend = document.getElementById('legend');
            var canvas = document.createElement('canvas');
            canvas.setAttribute('width','200');
            canvas.setAttribute('height','20');

            legend.appendChild(canvas);

            var ctx = canvas.getContext("2d");
            var grd = ctx.createLinearGradient(0, 0, 200, 0);
            grd.addColorStop(0, "black");
            grd.addColorStop(1, "white");

            ctx.fillStyle = grd;
            ctx.fillRect(0, 0, 200, 20);


            var last = document.createElement('span');
            last.innerText = '   '+h.toString(10);
            el.appendChild(last);
        } 
        
        function moistGradient(l,h){
            var el = document.getElementById('legend-parent');
            el.innerHTML = '<span id="legend"> </span>';
            var first = document.createElement('span');
            first.innerText = l.toString(10)+'   ';
            el.prepend(first);

            var legend = document.getElementById('legend');
            var canvas = document.createElement('canvas');
            canvas.setAttribute('width','200');
            canvas.setAttribute('height','20');

            legend.appendChild(canvas);

            var ctx = canvas.getContext("2d");
            var grd = ctx.createLinearGradient(0, 0, 200, 0);
            grd.addColorStop(0, "rgb(255,255,255");
            grd.addColorStop(1, "rgb(0,128,255)");

            ctx.fillStyle = grd;
            ctx.fillRect(0, 0, 200, 20);


            var last = document.createElement('span');
            last.innerText = '   '+h.toString(10);
            el.appendChild(last);
        } 
            
</script>       

</html>